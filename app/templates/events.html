{% extends "base.html" %}

{% block title %}Events{% endblock %}

{% block content %}

<h2 class="mb-4">Manage Events</h2>

<!-- Add Event Form -->
<div class="card shadow-sm mb-4">
    <div class="card-body">
        <h5 class="card-title mb-3">Add New Event</h5>

        <form method="POST" class="row g-3">
            <div class="col-md-6">
                <label class="form-label">Event Title</label>
                <input type="text" name="title" class="form-control" required>
            </div>

            <div class="col-md-6">
                <label class="form-label">Description</label>
                <input type="text" name="description" class="form-control">
            </div>

            <div class="col-md-6">
                <label class="form-label">Start Time</label>
                <input type="datetime-local" name="start_time" class="form-control" required>
            </div>

            <div class="col-md-6">
                <label class="form-label">End Time</label>
                <input type="datetime-local" name="end_time" class="form-control" required>
            </div>

            <div class="col-12">
                <button class="btn btn-primary">Add Event</button>
            </div>
        </form>
    </div>
</div>

<!-- Events List -->
<div class="card shadow-sm">
    <div class="card-body">
        <h5 class="card-title mb-3">All Events</h5>

        {% if events %}
            <table class="table table-bordered table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Title</th>
                        <th>Start Time</th>
                        <th>End Time</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    {% for e in events %}
                        <tr>
                            <td>{{ e.title }}</td>
                            <td>{{ e.start_time }}</td>
                            <td>{{ e.end_time }}</td>
                            <td>{{ e.description }}</td>
                            <td>
                                <a href="/events/edit/{{ e.id }}" class="btn btn-sm btn-outline-secondary">
                                    Edit
                                </a>
                            </td>

                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="text-muted">No events created yet.</p>
        {% endif %}
    </div>
</div>

{% endblock %}

<!-- <!DOCTYPE html>
<html>
<head>
    <title>Events</title>
</head>
<body>
    <nav>
        <a href="/resources">Resources</a> |
        <a href="/events">Events</a> |
        <a href="/allocate">Allocate</a> |
        <a href="/report">Report</a>
    </nav>
    <hr>
    
    <h2>Add Event</h2>

    <form method="POST">
        <input type="text" name="title" placeholder="Event Title" required><br><br>

        <label>Start Time</label><br>
        <input type="datetime-local" name="start_time" required><br><br>

        <label>End Time</label><br>
        <input type="datetime-local" name="end_time" required><br><br>

        <textarea name="description" placeholder="Description"></textarea><br><br>

        <button type="submit">Add Event</button>
    </form>

    <h2>All Events</h2>

    <ul>
        {% for e in events %}
            <li>
                <strong>{{ e.title }}</strong><br>
                {{ e.start_time }} â†’ {{ e.end_time }}<br>
                {{ e.description }}
            </li>
            <hr>
        {% endfor %}
    </ul>
</body>
</html> -->
